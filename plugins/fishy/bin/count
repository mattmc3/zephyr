#!/bin/sh
##? count - count the number of elements of a list
# Description:
#   A POSIX implementation of Fish's count utility
#   https://fishshell.com/docs/current/cmds/count.html

REPLY="$#"

# count piped/redirected input
if ! [ -t 0 ]; then
  while IFS= read -r _; do
    REPLY=$((REPLY + 1))
  done
fi
printf '%s\n' $REPLY
[ $REPLY -gt 0 ] || exit 1
